class e{constructor(e="svg",t="http://www.w3.org/2000/svg"){this.element=document.createElementNS(t,e),this.cursorX=null,this.cursorY=null,this.#e(),"svg"===this.element.nodeName&&this.element.setAttribute("xmlns",t)}addEventListener(e,t){return this.element.addEventListener(e,t),this}addTo(e){return e.appendChild(this.element),this}animate(e,t){return this.element.animate(e,t),this}content(e){return this.element.innerHTML=e,this}create(t){return this.child=new e(t),"defs"===t?this.child.element=this.#t():this.element.appendChild(this.child.element),this.child}createCurve(t,n=1){let r=new e("path"),s=`M ${[(t=t.flat())[0],t[1]]}`;for(let e=0;e<t.length-2;e+=2){let r=e?t[e-2]:t[0],i=e?t[e-1]:t[1],a=t[e],l=t[e+1],h=t[e+2],o=t[e+3];s+=`C ${[a+(h-r)/6*n,l+(o-i)/6*n,h-((e!==t.length-4?t[e+4]:h)-a)/6*n,o-((e!==t.length-4?t[e+5]:o)-l)/6*n,h,o]}`}return r.set({d:s,stroke:"#888",fill:"none"}),this.element.appendChild(r.element),r}createFilter(t){this.#n();let n=new e("filter");return n.set({id:t,x:"-25%",y:"-25%",width:"150%",height:"150%",filterUnits:"userSpaceOnUse",color_interpolation_filters:"sRGB"}),this.#t().appendChild(n.element),n}createGradient(t,n,r,s=45){this.#n();let i=new e(`${n}Gradient`);i.set({id:t}),"linear"===n&&i.set({gradientTransform:`rotate(${s})`});for(let e=0;e<r.length;e+=1)i.create("stop").set({stop_color:r[e],offset:e*(100/(r.length-1))/100});return this.#t().appendChild(i.element),i}createPattern(t,n,r){this.#n();let s=new e("pattern");return s.set({id:t,x:0,y:0,width:n,height:r,patternUnits:"userSpaceOnUse"}),this.#t().appendChild(s.element),s}delete(){this.element.remove()}get(e){return this.element.getAttributeNS(null,e)}getCentre(){let e=this.element.getBBox();return{x:e.x+e.width/2,y:e.y+e.height/2}}moveTo(e,t){let n=this.getCentre(),r=this.#r();return r.setTranslate(e-n.x,t-n.y),this.#s(r),this}rotate(e,t=null,n=null){let r=this.getCentre(),s=this.#r();return t=null===t?r.x:t,n=null===n?r.y:n,s.setRotate(e,t,n),this.#s(s),this}save(){let e=prompt("Enter the file name","sketch.svg");if(null!==e){let t=document.createElement("a");t.download=e;let n=this.element.outerHTML,r=new Blob([n],{type:"text/plain;charset=utf-8"});t.href=URL.createObjectURL(r),t.click()}}scale(e,t=null){let n=this.getCentre(),r=this.#r(),s=this.#r();return t=null===t?e:t,r.setTranslate((1-e)*n.x,(1-t)*n.y),s.setScale(e,t),this.#s(r),this.#s(s),this}set(e){for(let t in e){let n=t.replace(/_/g,"-");this.element.setAttributeNS(null,n,e[t])}return this}trackCursor(e=null){this.#n();let t=new DOMPoint;return this.element.addEventListener("pointermove",(e=>{this.element.style.touchAction="none",t.x=e.clientX,t.y=e.clientY,t=t.matrixTransform(this.element.getScreenCTM().inverse()),this.cursorX=Math.ceil(t.x),this.cursorY=Math.ceil(t.y)})),this.element.addEventListener("pointerleave",(()=>{this.element.style.touchAction="auto"})),null!==e&&this.element.addEventListener("pointermove",e),this}#s(e){this.element.transform.baseVal.appendItem(e)}#r(){return(new e).element.createSVGTransform()}#t(){let t;return document.querySelector("defs")?t=document.querySelector("defs"):(t=new e("defs").element,this.element.prepend(t)),t}#n(){if("svg"!==this.element.nodeName)throw new Error("This function can only be called on the main SVG element.")}#e(){if(Object.prototype.toString.call(this.element).toLowerCase()!==`[object svg${this.element.nodeName.toLowerCase()}element]`)throw new Error(`Invalid SVG element: ${this.element.nodeName}`)}}const t={chance:function(e=50,t=null){return(null!==t?t/(e+t)*100:e)>100*Math.random()},constrain:function(e,t,n){return Math.min(Math.max(e,t),n)},dist:function(e,t,n,r){let s=e-n,i=t-r;return Math.sqrt(Math.pow(s,2)+Math.pow(i,2))},gaussian:function(e=0,t=1,n=!0){let r=1-Math.random(),s=Math.random(),i=Math.cos(Math.PI*s)*Math.sqrt(-Math.log(r))*t+e;return n?i:Math.round(i)},interp:function(e,t,n=.5){return n*(t-e)+e},map:function(e,t,n,r,s,i=!0){let a=(e-t)/(n-t)*(s-r)+r;return i?a:Math.round(a)},pareto:function(e,t=!0){let n=1-Math.random(),r=Math.log(5)/Math.log(4),s=e/Math.pow(n,1/r);return t?s:Math.round(s)},random:function(e=0,t=1,n=!1){if(Array.isArray(arguments[0])){let e=arguments[0];return e[Math.round(Math.random()*(e.length-1))]}{let r=Math.random()*(t-e)+e;return n||t-e<=1?r:Math.round(r)}}};class n{constructor(){this.grad={},this.cache={}}get(e,t=0){if(this.cache.hasOwnProperty([e,t]))return this.cache[[e,t]];let n=Math.floor(e),r=Math.floor(t),s=this.#i(e,t,n,r),i=this.#i(e,t,n+1,r),a=this.#i(e,t,n,r+1),l=this.#i(e,t,n+1,r+1),h=this.#a(e-n,s,i),o=this.#a(e-n,a,l),d=this.#a(t-r,h,o);return this.cache[[e,t]]=d,d}#i(e,t,n,r){let s,i=e-n,a=t-r;if(this.grad[[n,r]])s=this.grad[[n,r]];else{let e=2*Math.random()*Math.PI;s={x:Math.cos(e),y:Math.sin(e)},this.grad[[n,r]]=s}return i*s.x+a*s.y}#a(e,t,n){return t+(6*e**5-15*e**4+10*e**3)*(n-t)}}export{e as SvJs,t as Gen,n as Noise};
//# sourceMappingURL=svjs.min.js.map
